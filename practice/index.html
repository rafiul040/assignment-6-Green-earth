<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Green-Earth</title>

    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body>
    <header>
      <nav class="border-b border-gray-200">
        <ul id="category-container" class="flex gap-10 text-xl px-5">
          <!-- Categories will load here -->
        </ul>
      </nav>
    </header>

    <script>
      const categoryContainer = document.getElementById("category-container");

      // Fetch categories
      const loadCategory = () => {
        fetch("https://openapi.programming-hero.com/api/categories")
          .then((res) => res.json())
          .then((data) => showCategory(data.categories));
      };

      // Show categories in navbar
      const showCategory = (categories) => {
        categories.forEach((cate) => {
          categoryContainer.innerHTML += `
            <li id="${cate.id}" 
                class="hover:border-b-4 hover:border-red-600 cursor-pointer">
                ${cate.category_name}
            </li>
          `;
        });
      };

      // Fetch news by category
    //   const newsByCategory = (categoryId) => {
    //     console.log("Clicked category id:", categoryId);
    //     fetch(`https://openapi.programming-hero.com/api/news/category/${categoryId}`)
    //       .then((res) => res.json())
    //       .then((data) => {
    //         console.log("News in this category:", data);
    //       });
    //   };

      // Event delegation for li click
      categoryContainer.addEventListener("click", (e) => {
        if (e.target.localName === "li") {
          // remove active border
          console.log(e.target)
          document.querySelectorAll("#category-container li").forEach((li) => {
            li.classList.remove("border-b-4");
          });

          // add active border to clicked li
          e.target.classList.add("border-b-4");

          // load news
          newsByCategory(e.target.id);
        }
      });


      const loadNewsByCattegory = id => {
        fetch('https://openapi.programming-hero.com/api/plants')
      }






      // load categories on page load
      loadCategory();
    </script>
  </body>
</html>